<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DermAssist AI ‚Äî How to Run</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Sora:wght@300;400;600;700;800&display=swap');

  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #0a0e1a;
    --surface: #111827;
    --surface2: #1a2236;
    --border: #1e2d45;
    --accent: #00d4ff;
    --accent2: #7c3aed;
    --green: #10b981;
    --yellow: #f59e0b;
    --red: #ef4444;
    --text: #e2e8f0;
    --muted: #64748b;
    --mono: 'JetBrains Mono', monospace;
    --sans: 'Sora', sans-serif;
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--sans);
    min-height: 100vh;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(0,212,255,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.03) 1px, transparent 1px);
    background-size: 40px 40px;
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 60px 24px 100px;
    position: relative;
    z-index: 1;
  }

  .header {
    text-align: center;
    margin-bottom: 64px;
    animation: fadeDown 0.6s ease both;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(0,212,255,0.1);
    border: 1px solid rgba(0,212,255,0.25);
    border-radius: 100px;
    padding: 6px 16px;
    font-size: 12px;
    font-family: var(--mono);
    color: var(--accent);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    margin-bottom: 24px;
  }

  .badge::before {
    content: '';
    width: 6px; height: 6px;
    background: var(--accent);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  h1 {
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 800;
    line-height: 1.1;
    margin-bottom: 16px;
  }

  h1 span {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .subtitle {
    color: var(--muted);
    font-size: 1.05rem;
    font-weight: 300;
    line-height: 1.6;
  }

  .warning {
    background: rgba(245,158,11,0.08);
    border: 1px solid rgba(245,158,11,0.3);
    border-left: 4px solid var(--yellow);
    border-radius: 12px;
    padding: 20px 24px;
    margin-bottom: 24px;
    display: flex;
    gap: 16px;
    align-items: flex-start;
    animation: fadeIn 0.6s 0.2s ease both;
  }

  .warning-icon { font-size: 24px; flex-shrink: 0; margin-top: 2px; }
  .warning strong { color: var(--yellow); display: block; margin-bottom: 6px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; }
  .warning p { color: #cbd5e1; font-size: 0.9rem; line-height: 1.6; }
  .warning code { font-family: var(--mono); background: rgba(245,158,11,0.15); padding: 2px 6px; border-radius: 4px; font-size: 0.85em; color: var(--yellow); }

  .info-box {
    background: rgba(0,212,255,0.06);
    border: 1px solid rgba(0,212,255,0.2);
    border-left: 4px solid var(--accent);
    border-radius: 12px;
    padding: 20px 24px;
    margin-bottom: 24px;
    display: flex;
    gap: 16px;
    align-items: flex-start;
    animation: fadeIn 0.6s 0.25s ease both;
  }

  .info-box strong { color: var(--accent); display: block; margin-bottom: 6px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; }
  .info-box p { color: #cbd5e1; font-size: 0.9rem; line-height: 1.6; }
  .info-box code { font-family: var(--mono); background: rgba(0,212,255,0.1); padding: 2px 6px; border-radius: 4px; font-size: 0.85em; color: var(--accent); }

  .phase {
    margin-bottom: 48px;
    animation: fadeIn 0.5s ease both;
  }

  .phase-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
  }

  .phase-number {
    width: 48px; height: 48px;
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-weight: 700;
    font-family: var(--mono);
    font-size: 1rem;
    flex-shrink: 0;
  }

  .phase-number.blue   { background: rgba(0,212,255,0.15);  color: var(--accent); border: 1px solid rgba(0,212,255,0.3); }
  .phase-number.purple { background: rgba(124,58,237,0.15); color: #a78bfa;       border: 1px solid rgba(124,58,237,0.3); }
  .phase-number.green  { background: rgba(16,185,129,0.15); color: var(--green);  border: 1px solid rgba(16,185,129,0.3); }
  .phase-number.yellow { background: rgba(245,158,11,0.15); color: var(--yellow); border: 1px solid rgba(245,158,11,0.3); }

  .phase-title { font-size: 1.3rem; font-weight: 700; }
  .phase-desc  { color: var(--muted); font-size: 0.9rem; margin-top: 2px; }

  .steps { display: flex; flex-direction: column; gap: 16px; }

  .step {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
    transition: border-color 0.2s, box-shadow 0.2s;
  }

  .step:hover { border-color: rgba(0,212,255,0.2); box-shadow: 0 0 30px rgba(0,212,255,0.05); }

  .step-header {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 18px 20px;
    cursor: pointer;
    user-select: none;
  }

  .step-icon {
    width: 36px; height: 36px;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
    background: var(--surface2);
  }

  .step-label { font-weight: 600; font-size: 0.95rem; flex: 1; }
  .step-tag { font-family: var(--mono); font-size: 0.7rem; padding: 3px 10px; border-radius: 100px; font-weight: 600; }

  .tag-required { background: rgba(239,68,68,0.15);   color: #f87171;    border: 1px solid rgba(239,68,68,0.25); }
  .tag-backend  { background: rgba(0,212,255,0.1);    color: var(--accent); border: 1px solid rgba(0,212,255,0.2); }
  .tag-frontend { background: rgba(124,58,237,0.1);  color: #a78bfa;    border: 1px solid rgba(124,58,237,0.2); }
  .tag-optional { background: rgba(100,116,139,0.15); color: var(--muted); border: 1px solid rgba(100,116,139,0.2); }
  .tag-done     { background: rgba(16,185,129,0.1);  color: var(--green); border: 1px solid rgba(16,185,129,0.2); }
  .tag-new      { background: rgba(245,158,11,0.12); color: var(--yellow); border: 1px solid rgba(245,158,11,0.3); }

  .step-chevron { color: var(--muted); transition: transform 0.3s; font-size: 18px; }
  .step.open .step-chevron { transform: rotate(180deg); }

  .step-body { display: none; padding: 0 20px 20px; border-top: 1px solid var(--border); }
  .step.open .step-body { display: block; }

  .step-info { padding: 16px 0 12px; color: #94a3b8; font-size: 0.88rem; line-height: 1.7; }

  .code-block {
    background: #070d19;
    border: 1px solid #1a2640;
    border-radius: 12px;
    overflow: hidden;
    margin-top: 12px;
  }

  .code-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 16px;
    border-bottom: 1px solid #1a2640;
  }

  .code-label { font-family: var(--mono); font-size: 0.7rem; color: var(--muted); text-transform: uppercase; letter-spacing: 0.08em; }

  .copy-btn {
    background: rgba(0,212,255,0.1);
    border: 1px solid rgba(0,212,255,0.2);
    color: var(--accent);
    padding: 4px 12px;
    border-radius: 6px;
    font-size: 0.75rem;
    font-family: var(--mono);
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
  }
  .copy-btn:hover { background: rgba(0,212,255,0.2); }
  .copy-btn:active { transform: scale(0.97); }
  .copy-btn.copied { color: var(--green); border-color: rgba(16,185,129,0.3); background: rgba(16,185,129,0.1); }

  .code-content {
    padding: 16px;
    font-family: var(--mono);
    font-size: 0.82rem;
    line-height: 1.8;
    color: #e2e8f0;
    overflow-x: auto;
    white-space: pre;
  }

  .code-content .comment { color: #3d5a80; }
  .code-content .cmd     { color: var(--accent); }
  .code-content .flag    { color: #a78bfa; }
  .code-content .str     { color: #34d399; }
  .code-content .path    { color: #fb923c; }
  .code-content .warn    { color: var(--yellow); }

  .divider {
    display: flex;
    align-items: center;
    gap: 16px;
    margin: 40px 0;
    color: var(--muted);
    font-size: 0.8rem;
    font-family: var(--mono);
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--border); }

  .result-box {
    background: rgba(16,185,129,0.05);
    border: 1px solid rgba(16,185,129,0.2);
    border-radius: 12px;
    padding: 16px 20px;
    margin-top: 12px;
    font-family: var(--mono);
    font-size: 0.8rem;
    color: #6ee7b7;
    line-height: 1.8;
  }

  .arch {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px;
    margin: 48px 0;
    text-align: center;
    animation: fadeIn 0.6s 0.4s ease both;
  }

  .arch h3 { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--muted); margin-bottom: 28px; font-family: var(--mono); }

  .arch-flow {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
  }

  .arch-node {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 14px 20px;
    min-width: 110px;
    text-align: center;
  }

  .arch-node .node-icon  { font-size: 22px; margin-bottom: 6px; }
  .arch-node .node-label { font-size: 0.78rem; font-weight: 600; color: var(--text); }
  .arch-node .node-sub   { font-size: 0.68rem; color: var(--muted); font-family: var(--mono); margin-top: 4px; }
  .arch-node.highlighted { border-color: rgba(0,212,255,0.3); background: rgba(0,212,255,0.06); }

  .arch-arrow { color: var(--muted); font-size: 20px; flex-shrink: 0; }

  .url-cards { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 12px; }

  .url-card {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px 18px;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .url-card .url-icon  { font-size: 22px; }
  .url-card .url-label { font-size: 0.78rem; color: var(--muted); margin-bottom: 4px; }
  .url-card .url-link  { font-family: var(--mono); font-size: 0.82rem; color: var(--accent); text-decoration: none; }
  .url-card .url-link:hover { text-decoration: underline; }

  .trouble-item {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px 20px;
    margin-bottom: 12px;
    display: flex;
    gap: 14px;
    align-items: flex-start;
  }

  .trouble-icon { font-size: 20px; flex-shrink: 0; margin-top: 2px; }
  .trouble-q { font-weight: 600; font-size: 0.88rem; color: #f87171; margin-bottom: 6px; }
  .trouble-a { font-size: 0.85rem; color: #94a3b8; line-height: 1.6; }
  .trouble-a code { font-family: var(--mono); background: rgba(0,212,255,0.08); padding: 2px 6px; border-radius: 4px; color: var(--accent); font-size: 0.85em; }

  .footer { text-align: center; margin-top: 80px; padding-top: 40px; border-top: 1px solid var(--border); color: var(--muted); font-size: 0.8rem; }

  @keyframes fadeDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes fadeIn   { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes pulse    { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

  .phase:nth-child(1) { animation-delay: 0.1s; }
  .phase:nth-child(2) { animation-delay: 0.2s; }
  .phase:nth-child(3) { animation-delay: 0.3s; }
</style>
</head>
<body>
<div class="container">

  <!-- Header -->
  <div class="header">
    <div class="badge">Setup Guide v2.0</div>
    <h1>Running <span>DermAssist AI</span><br>Step by Step</h1>
    <p class="subtitle">Full-stack setup: FastAPI backend + SQLite database + React frontend.<br>Follow each phase in order ‚Äî takes about 10‚Äì15 minutes.</p>
  </div>

  <!-- Model warning -->
  <div class="warning">
    <div class="warning-icon">‚ö†Ô∏è</div>
    <div>
      <strong>Model File Required</strong>
      <p>The AI model is <strong>not included</strong> in the repo. You must copy <code>best_skin_cancer_model.h5</code> into the <code>backend/</code> folder before running, or the prediction endpoint won't work.</p>
    </div>
  </div>

  <!-- DB warning -->
  <div class="warning">
    <div class="warning-icon">üóÑÔ∏è</div>
    <div>
      <strong>Fresh Database Required</strong>
      <p>If you have an old <code>dermassist.db</code> from a previous version, <strong>delete it</strong> before starting. The backend will create a fresh one automatically with all the correct columns.</p>
    </div>
  </div>

  <!-- Auth info -->
  <div class="info-box">
    <div style="font-size:24px;flex-shrink:0;margin-top:2px">üîê</div>
    <div>
      <strong>Authentication Included</strong>
      <p>This version includes full user authentication ‚Äî register, login, JWT tokens, and scan history. When you open the app for the first time you'll be redirected to the register page automatically. After registering, you stay logged in for 24 hours.</p>
    </div>
  </div>

  <!-- Architecture -->
  <div class="arch">
    <h3>How the App Works</h3>
    <div class="arch-flow">
      <div class="arch-node">
        <div class="node-icon">üåê</div>
        <div class="node-label">Browser</div>
        <div class="node-sub">localhost:3000</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-node highlighted">
        <div class="node-icon">‚öõÔ∏è</div>
        <div class="node-label">React App</div>
        <div class="node-sub">Vite + Axios</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-node">
        <div class="node-icon">üîå</div>
        <div class="node-label">POST /predict</div>
        <div class="node-sub">+ Bearer token</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-node highlighted">
        <div class="node-icon">üêç</div>
        <div class="node-label">FastAPI</div>
        <div class="node-sub">localhost:8000</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-node">
        <div class="node-icon">üß†</div>
        <div class="node-label">Keras H5 Model</div>
        <div class="node-sub">224√ó224 input</div>
      </div>
      <div class="arch-arrow">‚Üí</div>
      <div class="arch-node">
        <div class="node-icon">üóÑÔ∏è</div>
        <div class="node-label">SQLite DB</div>
        <div class="node-sub">dermassist.db</div>
      </div>
    </div>
  </div>

  <!-- Phase 0: Prerequisites -->
  <div class="phase">
    <div class="phase-header">
      <div class="phase-number blue">00</div>
      <div>
        <div class="phase-title">Prerequisites</div>
        <div class="phase-desc">Install these before anything else</div>
      </div>
    </div>

    <div class="steps">

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üêç</div>
          <div class="step-label">Python 3.10 or 3.11</div>
          <span class="step-tag tag-required">Required</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">TensorFlow works best on Python 3.10 or 3.11. Python 3.12+ may have compatibility issues.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Check version</span>
              <button class="copy-btn" onclick="copyCode(this, 'python --version')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">python --version</span>
<span class="comment"># ‚úÖ OK:   Python 3.10.x or 3.11.x
# ‚ö†Ô∏è  OK:  Python 3.9.x (works but not recommended)
# ‚ùå FAIL: Python 3.12+ (may have TF issues)
# Download from: https://python.org/downloads</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üì¶</div>
          <div class="step-label">Node.js v18 or newer</div>
          <span class="step-tag tag-required">Required</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Node.js is needed to run the React frontend with Vite. Download the LTS version from nodejs.org.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Check version</span>
              <button class="copy-btn" onclick="copyCode(this, 'node --version')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">node --version</span>
<span class="comment"># Should print v18.x.x or higher
# Download from: https://nodejs.org (choose LTS)</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üóÇÔ∏è</div>
          <div class="step-label">Project folder structure</div>
          <span class="step-tag tag-required">Required</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Make sure your folder looks like this before starting. The model file must be added manually.</div>
          <div class="code-block">
            <div class="code-top"><span class="code-label">Expected structure</span></div>
            <div class="code-content"><span class="path">DermAssist-AI/</span>
‚îú‚îÄ‚îÄ <span class="path">backend/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="str">main.py</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="str">auth.py</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="str">database.py</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="str">requirements.txt</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="warn">best_skin_cancer_model.h5</span>  <span class="comment">‚Üê ADD THIS MANUALLY</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="path">models/</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="str">__init__.py</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="str">base.py</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="str">user.py</span>
‚îÇ       ‚îú‚îÄ‚îÄ <span class="str">images.py</span>
‚îÇ       ‚îî‚îÄ‚îÄ <span class="str">prediciton.py</span>  <span class="comment">‚Üê note: typo in filename is intentional</span>
‚îî‚îÄ‚îÄ <span class="path">frontend/</span>
    ‚îú‚îÄ‚îÄ <span class="str">package.json</span>
    ‚îî‚îÄ‚îÄ <span class="path">src/</span>
        ‚îú‚îÄ‚îÄ <span class="path">context/</span>  AuthContext.jsx
        ‚îú‚îÄ‚îÄ <span class="path">pages/</span>   Home, Login, Register, Profile...
        ‚îî‚îÄ‚îÄ <span class="path">components/</span></div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="divider">Phase 1 ‚Äî Backend</div>

  <!-- Phase 1: Backend -->
  <div class="phase">
    <div class="phase-header">
      <div class="phase-number blue">01</div>
      <div>
        <div class="phase-title">Set Up the Backend</div>
        <div class="phase-desc">FastAPI server + database ‚Äî run in Terminal 1</div>
      </div>
    </div>

    <div class="steps">

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üìÅ</div>
          <div class="step-label">Navigate to the backend folder</div>
          <span class="step-tag tag-backend">Backend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Open your terminal (PowerShell on Windows, Terminal on Mac/Linux) and navigate to the backend folder.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Navigate</span>
              <button class="copy-btn" onclick="copyCode(this, 'cd DermAssist-AI/backend')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">cd DermAssist-AI/backend</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üèóÔ∏è</div>
          <div class="step-label">Create & activate virtual environment</div>
          <span class="step-tag tag-backend">Backend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">A virtual environment keeps your Python packages isolated. If a <code style="font-family:monospace;color:#00d4ff">venv/</code> folder already exists, just activate it ‚Äî skip the create step.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Windows (PowerShell)</span>
              <button class="copy-btn" onclick="copyCode(this, 'python -m venv venv\nvenv\\Scripts\\activate')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">python -m venv venv</span>
<span class="cmd">venv\Scripts\activate</span>
<span class="comment"># You should see (venv) appear before your prompt</span></div>
          </div>
          <div class="code-block" style="margin-top:8px">
            <div class="code-top">
              <span class="code-label">Mac / Linux</span>
              <button class="copy-btn" onclick="copyCode(this, 'python3 -m venv venv\nsource venv/bin/activate')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">python3 -m venv venv</span>
<span class="cmd">source venv/bin/activate</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üì•</div>
          <div class="step-label">Install Python dependencies</div>
          <span class="step-tag tag-backend">Backend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">This installs FastAPI, TensorFlow, OpenCV, SQLAlchemy, and all auth packages. TensorFlow is large ‚Äî may take 3‚Äì5 minutes.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Install all packages</span>
              <button class="copy-btn" onclick="copyCode(this, 'pip install -r requirements.txt')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">pip install -r requirements.txt</span>
<span class="comment">
# Installs:
#  fastapi              ‚Äî web framework
#  uvicorn              ‚Äî ASGI server
#  tensorflow           ‚Äî AI model (Keras H5)
#  opencv-python        ‚Äî image preprocessing (resize, normalize)
#  sqlalchemy           ‚Äî database ORM
#  python-jose          ‚Äî JWT token creation & verification
#  passlib              ‚Äî password hashing wrapper
#  pytz                 ‚Äî IST timezone for timestamps
#  python-multipart     ‚Äî file upload support</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üîë</div>
          <div class="step-label">Fix bcrypt version (IMPORTANT)</div>
          <span class="step-tag tag-required">Required</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">The latest bcrypt (v5+) is incompatible with passlib and will cause registration to fail silently. You must downgrade it to v4.0.1 after installing requirements.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Downgrade bcrypt</span>
              <button class="copy-btn" onclick="copyCode(this, 'pip install bcrypt==4.0.1 --force-reinstall')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">pip install bcrypt==4.0.1 <span class="flag">--force-reinstall</span></span>

<span class="comment"># Verify it worked:</span>
<span class="cmd">python -c "import bcrypt; print(bcrypt.__version__)"</span>
<span class="comment"># Should print: 4.0.1</span></div>
          </div>
          <div class="result-box">‚úÖ Expected output:
4.0.1</div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üß†</div>
          <div class="step-label">Add the AI model file</div>
          <span class="step-tag tag-required">Required</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Copy <strong>best_skin_cancer_model.h5</strong> into the <code style="font-family:monospace;color:#00d4ff">backend/</code> folder. This is a Keras H5 model trained on 224√ó224 images. The server looks for it in the same folder as main.py.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Verify the file is there</span>
            </div>
            <div class="code-content"><span class="comment"># Windows:</span>
<span class="cmd">dir</span>

<span class="comment"># Mac/Linux:</span>
<span class="cmd">ls -la</span>

<span class="comment"># You must see:</span>
<span class="str">best_skin_cancer_model.h5</span>  <span class="comment">‚Üê must exist!</span>
<span class="str">main.py</span>
<span class="str">auth.py</span>
<span class="str">database.py</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üóÑÔ∏è</div>
          <div class="step-label">Database setup (auto)</div>
          <span class="step-tag tag-new">Auto</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">The database (<code style="font-family:monospace;color:#00d4ff">dermassist.db</code>) is created automatically when the backend starts for the first time. No manual setup needed. If you have an old one, delete it first.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Delete old database (if exists)</span>
              <button class="copy-btn" onclick="copyCode(this, 'del dermassist.db')">Copy</button>
            </div>
            <div class="code-content"><span class="comment"># Windows ‚Äî delete old database:</span>
<span class="cmd">del dermassist.db</span>

<span class="comment"># Mac/Linux:</span>
<span class="cmd">rm dermassist.db</span>

<span class="comment"># The backend will auto-create a fresh one with these tables:
#   users       ‚Äî stores accounts (name, email, password_hash, dob...)
#   images      ‚Äî stores info about uploaded images
#   predictions ‚Äî stores every AI scan result</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üöÄ</div>
          <div class="step-label">Start the backend server</div>
          <span class="step-tag tag-backend">Backend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Start the FastAPI server on port 8000. Keep this terminal open the entire time you use the app.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Start server</span>
              <button class="copy-btn" onclick="copyCode(this, 'uvicorn main:app --reload --host 127.0.0.1 --port 8000')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">uvicorn main:app <span class="flag">--reload</span> <span class="flag">--host</span> 127.0.0.1 <span class="flag">--port</span> 8000</span></div>
          </div>
          <div class="result-box">‚úÖ Expected output:

INFO:     Will watch for changes in these directories: [...]
INFO:     Uvicorn running on http://127.0.0.1:8000
‚úÖ Model loaded successfully.
INFO:     Application startup complete.</div>
        </div>
      </div>

    </div>
  </div>

  <div class="divider">Phase 2 ‚Äî Frontend</div>

  <!-- Phase 2: Frontend -->
  <div class="phase">
    <div class="phase-header">
      <div class="phase-number purple">02</div>
      <div>
        <div class="phase-title">Set Up the Frontend</div>
        <div class="phase-desc">React app ‚Äî open a NEW terminal (Terminal 2)</div>
      </div>
    </div>

    <div class="steps">

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üìÅ</div>
          <div class="step-label">Open a new terminal & navigate to frontend</div>
          <span class="step-tag tag-frontend">Frontend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">‚ö†Ô∏è Keep the backend terminal running! Open a <strong>second</strong> terminal and navigate to the frontend folder.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">New terminal</span>
              <button class="copy-btn" onclick="copyCode(this, 'cd DermAssist-AI/frontend')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">cd DermAssist-AI/frontend</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üì•</div>
          <div class="step-label">Install Node.js dependencies</div>
          <span class="step-tag tag-frontend">Frontend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Installs React, Vite, Tailwind CSS, Framer Motion, Axios, and all other packages. Only needed once ‚Äî if <code style="font-family:monospace;color:#00d4ff">node_modules/</code> already exists, skip this.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Install packages</span>
              <button class="copy-btn" onclick="copyCode(this, 'npm install')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">npm install</span>
<span class="comment">
# Installs:
#  react + react-dom       ‚Äî UI framework
#  react-router-dom        ‚Äî page routing + auth guards
#  axios                   ‚Äî API calls with JWT headers
#  framer-motion           ‚Äî animations
#  lucide-react            ‚Äî icons
#  tailwindcss             ‚Äî styling
#  vite                    ‚Äî dev server + bundler</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">‚ö°</div>
          <div class="step-label">Start the frontend dev server</div>
          <span class="step-tag tag-frontend">Frontend</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Starts the Vite development server. The app runs on port 3000. Changes to files appear instantly in the browser.</div>
          <div class="code-block">
            <div class="code-top">
              <span class="code-label">Start dev server</span>
              <button class="copy-btn" onclick="copyCode(this, 'npm run dev')">Copy</button>
            </div>
            <div class="code-content"><span class="cmd">npm run dev</span></div>
          </div>
          <div class="result-box">‚úÖ Expected output:

  VITE v5.x.x  ready in 705 ms

  ‚ûú  Local:   http://localhost:3000/</div>
        </div>
      </div>

    </div>
  </div>

  <div class="divider">Phase 3 ‚Äî Open & Test</div>

  <!-- Phase 3: Use it -->
  <div class="phase">
    <div class="phase-header">
      <div class="phase-number green">03</div>
      <div>
        <div class="phase-title">Open & Test the App</div>
        <div class="phase-desc">Verify everything works end-to-end</div>
      </div>
    </div>

    <div class="steps">

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üåê</div>
          <div class="step-label">Open the app in your browser</div>
          <span class="step-tag tag-done">Go!</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Open these URLs in any modern browser. Both servers must still be running.</div>
          <div class="url-cards">
            <div class="url-card">
              <div class="url-icon">‚öõÔ∏è</div>
              <div>
                <div class="url-label">React App (Frontend)</div>
                <a class="url-link" href="http://localhost:3000" target="_blank">http://localhost:3000</a>
              </div>
            </div>
            <div class="url-card">
              <div class="url-icon">üìñ</div>
              <div>
                <div class="url-label">API Docs (Swagger UI)</div>
                <a class="url-link" href="http://127.0.0.1:8000/docs" target="_blank">http://127.0.0.1:8000/docs</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üîê</div>
          <div class="step-label">Register your account</div>
          <span class="step-tag tag-new">Auth</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">The app automatically redirects new users to the registration page. Fill in all required fields.</div>
          <div class="code-block">
            <div class="code-top"><span class="code-label">Registration checklist</span></div>
            <div class="code-content"><span class="str">Required fields:</span>
  Full Name, Username, Email, Password, Date of Birth

<span class="str">Optional fields:</span>
  Phone Number, Gender

<span class="comment"># After registering:
# ‚Üí You'll be automatically logged in
# ‚Üí Redirected to the home page
# ‚Üí Your name appears in the top-right navbar
# ‚Üí Token saved for 24 hours (auto-login on return)</span></div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üß™</div>
          <div class="step-label">Test image analysis</div>
          <span class="step-tag tag-done">Test</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Upload a skin lesion image to test the full AI pipeline.</div>
          <div class="code-block">
            <div class="code-top"><span class="code-label">Test checklist</span></div>
            <div class="code-content"><span class="str">1.</span> Go to the home page
<span class="str">2.</span> Upload a skin image (JPEG or PNG)
<span class="str">3.</span> Click <span class="str">"Analyze Image with AI"</span>
<span class="str">4.</span> Watch the processing animation (~5 seconds)
<span class="str">5.</span> Read the risk assessment message
<span class="str">6.</span> Check your profile ‚Üí Scan History tab
<span class="str">7.</span> The scan should appear there automatically ‚úÖ</div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üë§</div>
          <div class="step-label">Check your profile & history</div>
          <span class="step-tag tag-new">New</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">Click your name in the top-right corner to open the dropdown, then click "My Profile".</div>
          <div class="code-block">
            <div class="code-top"><span class="code-label">Profile page features</span></div>
            <div class="code-content"><span class="str">Profile tab:</span>
  Name, username, email, date of birth,
  phone number, gender, member since

<span class="str">Scan History tab:</span>
  All previous scans with:
  ‚Üí Diagnosis name
  ‚Üí Risk level (High / Moderate / Low)
  ‚Üí AI confidence %
  ‚Üí Date & time of scan

<span class="str">Stats at top:</span>
  Total scans, High risk findings, Safe results</div>
          </div>
        </div>
      </div>

      <div class="step" onclick="toggle(this)">
        <div class="step-header">
          <div class="step-icon">üîí</div>
          <div class="step-label">Shutting down</div>
          <span class="step-tag tag-optional">When done</span>
          <div class="step-chevron">‚åÑ</div>
        </div>
        <div class="step-body">
          <div class="step-info">When done, press Ctrl+C in both terminal windows to stop the servers.</div>
          <div class="code-block">
            <div class="code-top"><span class="code-label">Stop both servers</span></div>
            <div class="code-content"><span class="comment"># Terminal 1 (backend) + Terminal 2 (frontend):</span>
<span class="flag">Ctrl + C</span>

<span class="comment"># Next time you want to run again:
# 1. cd backend ‚Üí activate venv ‚Üí uvicorn main:app --reload --host 127.0.0.1 --port 8000
# 2. cd frontend ‚Üí npm run dev
# No reinstalling needed!</span></div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Troubleshooting -->
  <div class="divider">Troubleshooting</div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">"Registration failed. Please try again."</div>
      <div class="trouble-a">Almost always a bcrypt version issue. Run: <code>pip install bcrypt==4.0.1 --force-reinstall</code> then restart the backend. Also delete <code>dermassist.db</code> and let it recreate fresh.</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">"Inference failed: Input shape mismatch (expected 224√ó224)"</div>
      <div class="trouble-a">The preprocessing code is still using the old 128√ó128 size. In <code>backend/main.py</code>, find <code>cv2.resize(img, (128, 128))</code> and change it to <code>cv2.resize(img, (224, 224))</code>.</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">"Failed to analyze image. Please ensure the backend server is running."</div>
      <div class="trouble-a">The frontend can't reach the backend. Make sure Terminal 1 is running with <code>uvicorn main:app --reload --host 127.0.0.1 --port 8000</code> and you see "Application startup complete."</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">Model not loading ‚Äî "WARNING: Model file not found"</div>
      <div class="trouble-a">The <code>best_skin_cancer_model.h5</code> file is missing from the <code>backend/</code> folder. Copy it there and restart the server. Filename must match exactly.</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">"No module named 'sqlalchemy'" or "No module named 'jose'"</div>
      <div class="trouble-a">Your virtual environment is not activated. Run <code>venv\Scripts\activate</code> (Windows) or <code>source venv/bin/activate</code> (Mac), then <code>pip install -r requirements.txt</code> again.</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">"No module named 'models.predictions'"</div>
      <div class="trouble-a">The prediction model file has a typo in its name ‚Äî it's <code>prediciton.py</code> (missing 's'). In <code>models/__init__.py</code>, make sure it says <code>from .prediciton import Prediction</code> (matching the actual filename).</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">Scan history not showing after analyzing an image</div>
      <div class="trouble-a">Make sure you are logged in before analyzing. The scan is only saved to the database when a valid JWT token is sent with the request. Try logging out and back in, then analyze again.</div>
    </div>
  </div>

  <div class="trouble-item">
    <div class="trouble-icon">üî¥</div>
    <div>
      <div class="trouble-q">Frontend shows "Failed to resolve import ProfilePage"</div>
      <div class="trouble-a">The <code>ProfilePage.jsx</code> file is missing. Copy it to <code>frontend/src/pages/ProfilePage.jsx</code>. Vite will reload automatically.</div>
    </div>
  </div>

  <div class="footer">
    <p>DermAssist AI ‚Äî For educational and screening purposes only. Not a medical diagnosis tool.</p>
    <p style="margin-top:8px;font-family:var(--mono);font-size:0.75rem;">Backend: FastAPI + TensorFlow + SQLite &nbsp;|&nbsp; Frontend: React + Vite + Tailwind</p>
  </div>

</div>

<script>
  function toggle(el) {
    if (event.target.classList.contains('copy-btn')) return;
    el.classList.toggle('open');
  }

  function copyCode(btn, text) {
    event.stopPropagation();
    navigator.clipboard.writeText(text).then(() => {
      btn.textContent = 'Copied!';
      btn.classList.add('copied');
      setTimeout(() => {
        btn.textContent = 'Copy';
        btn.classList.remove('copied');
      }, 2000);
    });
  }

  // Auto-open first step of each phase
  document.querySelectorAll('.phase').forEach(phase => {
    const firstStep = phase.querySelector('.step');
    if (firstStep) firstStep.classList.add('open');
  });
</script>
</body>
</html>